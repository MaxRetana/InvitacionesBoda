<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitaci√≥n de Boda</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@300;400;600&family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="boda.css">
</head>
<body>
    <div class="invitation-container">
        <!-- Decoraciones de hojas -->
        <div class="leaf-decoration leaf-top-right"></div>
        <div class="leaf-decoration leaf-bottom-left"></div>
        
        <!-- Secci√≥n de portada -->
        <div class="section cover-section">
            <div class="couple-names-title">
                Nuestra Boda<br>
            </div>
            <div class="couple-names">
                Dora Berenice<br>
                &<br>
                Jos√© Maximiliano<br>
            </div>
            <div class="couple-names-parents">
                Con la bendici√≥n de Dios<br>
                Y de nuestros padres<br>
                <br>
                <span class="parents-label">Padres de la Novia:</span><br>
                Jos√© Porfirio Carmona Santiago & Ma. Mercedes Castellanos I√±iguez<br>
                <br>
                <span class="parents-label">Padres del Novio:</span><br>
                Jos√© Navidad Retana Rodriguez & Ana Lilia Lopez Armenta<br>
            </div>
            <div class="wedding-date">
                S√°bado, 31 de Enero 2026
            </div>
        </div>

        <!-- Secci√≥n de foto -->
        <div class="section photo-section">
            <div class="couple-photo-container">
                <img src="IMG1.jpg" 
                     alt="Foto rom√°ntica de la pareja" 
                     class="couple-photo"
                     style="object-position: center 30%;">
            </div>
        </div>

        <!-- Secci√≥n de cita -->
        <div class="section quote-section">
            <div class="quote-text">
                "Ya no son dos, sino uno solo.<br>
                Por tanto, lo que Dios ha unido,<br>
                que no lo separe el hombre."
            </div>
            <div class="quote-author">
                - Mateo 19:6
            </div>
        </div>

        <!-- Secci√≥n de ceremonia -->
        <div class="section">
            <div class="section-title">CEREMONIA RELIGIOSA</div>
            <div class="info-text">
                <strong>Parroquia Inmaculado Coraz√≥n de Mar√≠a</strong><br>
                C. Guillermo Prieto 561, Guadalajarita, 28030 Colima, Col.
            </div>
            <a href="https://maps.google.com/?q=Parroquia+Inmaculado+Coraz√≥n+de+Mar√≠a,+C.+Guillermo+Prieto+561,+Guadalajarita,+28030+Colima,+Col." target="_blank" class="location-button" style="display: inline-block; text-decoration: none;">Ver ubicaci√≥n</a>
            <div class="couple-photo-container" style="height: 150px;">
                <img src="parroquia.jpeg" 
                     alt="Parroquia Inmaculado Coraz√≥n de Mar√≠a" 
                     class="couple-photo" 
                     style="height: 150px; object-position: center center;">
            </div>
        </div>

        <!-- Secci√≥n de recepci√≥n -->
        <div class="section">
            <div class="section-title">RECEPCI√ìN</div>
            <div class="info-text">
                <strong>Rojo y Miel</strong><br>
                Calle Sierra y 10 de Julio
            </div>
            <a href="https://maps.google.com/?q=Jard√≠n+Pac√≠fico,+Calle+Sierra+y+10+de+Julio,+Colima" target="_blank" class="location-button" style="display: inline-block; text-decoration: none;">Ver ubicaci√≥n</a>
        </div>

        <!-- C√≥digo de vestimenta -->
        <div class="section">
            <div class="section-title">C√ìDIGO DE VESTIMENTA</div>
            <div class="info-text">Formal</div>
            <div class="dress-code-icons">
                <div class="icon-placeholder">üëî</div>
                <div class="icon-placeholder">üëó</div>
            </div>
            
            <!-- Restricciones de colores -->
            <div class="info-text" style="font-size: 0.85em; margin-top: 15px;">
                <strong>Color de la boda:</strong> Verde Olivo 
                <span style="display: inline-block; width: 20px; height: 20px; background-color: #708238; border-radius: 50%; margin-left: 8px; border: 2px solid white; vertical-align: middle;"></span><br><br>
                
                <strong>üëî Caballeros:</strong><br>
                Evitar camisa, corbata o mo√±o en color verde olivo<br><br>
                
                <strong>üëó Damas:</strong><br>
                Evitar vestidos en color blanco o verde olivo
            </div>
        </div>

        <!-- Cronograma -->
        <div class="section">
            <div class="section-title-schedule">TE COMPARTIMOS LOS DETALLES DE LA CELEBRACI√ìN</div>
            <div class="timeline-container">
                
                <div class="timeline-item" data-index="0">
                    <div class="timeline-dot">
                        <span class="timeline-number">‚ô°</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-time">06:00 PM</div>
                        <div class="timeline-event">Ceremonia Religiosa</div>
                    </div>
                </div>
                <div class="timeline-item" data-index="1">
                    <div class="timeline-dot">
                        <span class="timeline-number">‚ô°</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-time">7:30 PM</div>
                        <div class="timeline-event">C√≥ctel de Bienvenida</div>
                    </div>
                </div>
                <div class="timeline-item" data-index="2">
                    <div class="timeline-dot">
                        <span class="timeline-number">‚ô°</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-time">8:00 PM</div>
                        <div class="timeline-event">Inicio de Celebraci√≥n</div>
                    </div>
                </div>
                <div class="timeline-item" data-index="3">
                    <div class="timeline-dot">
                        <span class="timeline-number">‚ô°</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-time">9:00 PM</div>
                        <div class="timeline-event">Brindis y Vals</div>
                    </div>
                </div>
                <div class="timeline-item" data-index="4">
                    <div class="timeline-dot">
                        <span class="timeline-number">‚ô°</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-time">10:00 PM</div>
                        <div class="timeline-event">Cena</div>
                    </div>
                </div>
                <div class="timeline-item" data-index="5">
                    <div class="timeline-dot">
                        <span class="timeline-number">‚ô°</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-time">11:00 PM</div>
                        <div class="timeline-event">Loquera</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de padrinos -->
        <div class="section">
            <div class="section-title">PADRINOS</div>
            <div class="padrinos-container">
                <div class="padrino-item">
                    <div class="padrino-tipo">Velaci√≥n</div>
                    <div class="padrino-nombres">Norma Aguilar Armenta <br> Jes√∫s Solis Anguiano</div>
                </div>
                <div class="padrino-item">
                    <div class="padrino-tipo">Anillos</div>
                    <div class="padrino-nombres">Heriberto Lopez Armenta <br> Ana Luisa Rol√≥n</div>
                </div>
                <div class="padrino-item">
                    <div class="padrino-tipo">Arras</div>
                    <div class="padrino-nombres">Salvador Castellanos I√±iguez <br> Ofelia Curiel Lares</div>
                </div>
                <div class="padrino-item">
                    <div class="padrino-tipo">Lazo</div>
                    <div class="padrino-nombres">Juan Moctezuma Ram√≠rez <br> Ma. del Refugio Castellanos I√±iguez</div>
                </div>
            </div>
        </div>

        <!-- Cuenta regresiva -->
        <div class="section countdown-section">
            <div class="section-title">FALTAN</div>
            <div class="countdown-timer">
                <div class="countdown-unit">
                    <span class="countdown-number">00</span>
                    <span class="countdown-label">D√≠as</span>
                </div>
                <div class="countdown-unit">
                    <span class="countdown-number">00</span>
                    <span class="countdown-label">Horas</span>
                </div>
                <div class="countdown-unit">
                    <span class="countdown-number">00</span>
                    <span class="countdown-label">Min</span>
                </div>
                <div class="countdown-unit">
                    <span class="countdown-number">00</span>
                    <span class="countdown-label">Seg</span>
                </div>
            </div>
        </div>

        <!-- Otra foto -->
        <div class="section">
            <div class="couple-photo-container">
                <img src="IMG1.jpg" 
                     alt="Foto rom√°ntica de la pareja" 
                     class="couple-photo"
                     style="object-position: center 30%;">
            </div>
        </div>

        <!-- Informaci√≥n adicional -->
        <div class="section">
            <div class="section-title">SUGERENCIAS Y REGALOS</div>
            <div class="info-text">
                Lo m√°s importante para nosotros es compartir este d√≠a tan especial con ustedes.
Si desean obsequiarnos algo, pueden unirse a nuestra <em>lluvia de sobres</em> para ayudarnos a comenzar esta nueva etapa juntos.
            </div>
        </div>

        <!-- RSVP y mensaje final -->
        <div class="section rsvp-section">
            <div class="section-title">CONFIRMAR ASISTENCIA</div>
            <div class="info-text" style="margin-bottom: 20px;">
                Por favor confirma tu asistencia antes del 15 de enero
            </div>
            
            <!-- Formulario de confirmaci√≥n -->
            <form id="rsvpForm" action="https://formspree.io/f/movkyprl" method="POST" style="text-align: left; max-width: 300px; margin: 0 auto;">
                <div style="margin-bottom: 15px;">
                    <label for="nombre" style="display: block; color: white; margin-bottom: 5px; font-size: 0.9em;">Nombre completo:</label>
                    <input type="text" id="nombre" name="nombre" required style="width: 100%; padding: 8px; border: none; border-radius: 5px; font-size: 0.9em;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label for="asistencia" style="display: block; color: white; margin-bottom: 5px; font-size: 0.9em;">¬øAsistir√°s?</label>
                    <select id="asistencia" name="asistencia" required style="width: 100%; padding: 8px; border: none; border-radius: 5px; font-size: 0.9em;">
                        <option value="">Selecciona una opci√≥n</option>
                        <option value="si">S√≠, asistir√©</option>
                        <option value="no">No podr√© asistir</option>
                    </select>
                </div>
                
                <div id="cantidadPersonas" style="margin-bottom: 15px; display: none;">
                    <label for="personas" style="display: block; color: white; margin-bottom: 5px; font-size: 0.9em;">¬øCu√°ntos acompa√±antes tendr√°s?</label>
                    <select id="personas" name="personas" style="width: 100%; padding: 8px; border: none; border-radius: 5px; font-size: 0.9em;">
                        <option value="1">1 persona</option>
                        <option value="2">2 personas</option>
                        <option value="3">3 personas</option>
                        <option value="4">4 personas</option>
                        <option value="5">5 personas</option>
                        <option value="6">6 personas</option>
                        <option value="7">7 personas</option>
                        <option value="8">8 personas</option>
                        <option value="9">9 personas</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label for="comentarios" style="display: block; color: white; margin-bottom: 5px; font-size: 0.9em;">Comentarios (opcional):</label>
                    <textarea id="comentarios" name="comentarios" rows="3" style="width: 100%; padding: 8px; border: none; border-radius: 5px; font-size: 0.9em; resize: vertical;" placeholder="Alergias alimentarias, necesidades especiales, etc."></textarea>
                </div>
                
                <button type="submit" style="width: 100%; background: white; color: #a8b8a0; padding: 12px; border: none; border-radius: 25px; font-size: 1em; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                    Confirmar Asistencia
                </button>
            </form>
            
            <!-- Mensaje de confirmaci√≥n -->
            <div id="mensajeConfirmacion" style="display: none; background: rgba(255,255,255,0.9); color: #5a6b52; padding: 20px; border-radius: 10px; margin-top: 20px;">
                <strong>¬°Gracias por confirmar!</strong><br>
                Hemos recibido tu respuesta. Te esperamos con mucho cari√±o.
            </div>
            
            <div class="section-title" style="margin-top: 30px;">ESPERAMOS CONTAR CON SU PRESENCIA</div>
            <div class="final-message">
                ¬°Muchas Gracias!
            </div>
        </div>
    </div>

    <script>
        // Funci√≥n para actualizar el contador
        function updateCountdown() {
            const weddingDate = new Date('2026-01-31T18:00:00');
            const now = new Date();
            const diff = weddingDate - now;
            
            // Si la fecha ya pas√≥, mostrar ceros
            if (diff <= 0) {
                document.querySelectorAll('.countdown-number')[0].textContent = '00';
                document.querySelectorAll('.countdown-number')[1].textContent = '00';
                document.querySelectorAll('.countdown-number')[2].textContent = '00';
                document.querySelectorAll('.countdown-number')[3].textContent = '00';
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // Formatear con dos d√≠gitos
            document.querySelectorAll('.countdown-number')[0].textContent = days.toString().padStart(2, '0');
            document.querySelectorAll('.countdown-number')[1].textContent = hours.toString().padStart(2, '0');
            document.querySelectorAll('.countdown-number')[2].textContent = minutes.toString().padStart(2, '0');
            document.querySelectorAll('.countdown-number')[3].textContent = seconds.toString().padStart(2, '0');
        }
        
        // Actualizar cada segundo
        setInterval(updateCountdown, 1000);
        updateCountdown();
        
        // Manejar el formulario RSVP
        document.addEventListener('DOMContentLoaded', function() {
            const asistenciaSelect = document.getElementById('asistencia');
            const cantidadPersonasDiv = document.getElementById('cantidadPersonas');
            const rsvpForm = document.getElementById('rsvpForm');
            const mensajeConfirmacion = document.getElementById('mensajeConfirmacion');
            
            // Mostrar/ocultar campo de cantidad de personas
            asistenciaSelect.addEventListener('change', function() {
                if (this.value === 'si') {
                    cantidadPersonasDiv.style.display = 'block';
                    document.getElementById('personas').required = true;
                } else {
                    cantidadPersonasDiv.style.display = 'none';
                    document.getElementById('personas').required = false;
                }
            });
            
            // Manejar env√≠o del formulario
            rsvpForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(rsvpForm);
                
                // Enviar datos a Formspree
                fetch(rsvpForm.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        // Mostrar mensaje de confirmaci√≥n
                        rsvpForm.style.display = 'none';
                        mensajeConfirmacion.style.display = 'block';
                    } else {
                        throw new Error('Error al enviar el formulario');
                    }
                })
                .catch(error => {
                    alert('Hubo un problema al enviar tu confirmaci√≥n. Por favor intenta nuevamente o contacta directamente a los novios.');
                    console.error('Error:', error);
                });
            });
        });
        
        // Animaci√≥n del timeline al hacer scroll - MEJORADO
        function animateTimeline() {
            const timelineContainer = document.querySelector('.timeline-container');
            if (!timelineContainer) return;
            
            const timelineProgress = document.querySelector('.timeline-progress');
            const timelineItems = document.querySelectorAll('.timeline-item');
            const timelineDots = document.querySelectorAll('.timeline-dot');
            
            const containerRect = timelineContainer.getBoundingClientRect();
            const containerTop = containerRect.top;
            const containerHeight = containerRect.height;
            const windowHeight = window.innerHeight;
            
            // Mejorar el c√°lculo del progreso - m√°s suave y predecible
            let progress = 0;
            
            // El contenedor est√° completamente visible
            if (containerTop <= windowHeight * 0.5 && containerTop + containerHeight >= windowHeight * 0.5) {
                // Calcular progreso basado en qu√© tan centrado est√° el timeline
                const scrollProgress = Math.max(0, (windowHeight * 0.8 - containerTop) / (containerHeight + windowHeight * 0.4));
                progress = Math.min(1, scrollProgress);
            }
            
            // Animar la l√≠nea de progreso de manera m√°s suave
            if (timelineProgress) {
                timelineProgress.style.height = (progress * 100) + '%';
                timelineProgress.style.transition = 'height 0.3s ease-out';
            }
            
            // Animar los elementos del timeline con mejor distribuci√≥n
            timelineItems.forEach((item, index) => {
                // Calcular el punto de activaci√≥n para cada elemento de forma m√°s distribuida
                const itemActivationPoint = (index / (timelineItems.length - 1)) * 0.8;
                const shouldAnimate = progress >= itemActivationPoint;
                
                // Sistema de "una vez animado, mantener animado" con threshold
                const wasAnimated = item.classList.contains('animate');
                
                if (shouldAnimate || (wasAnimated && progress > itemActivationPoint * 0.7)) {
                    if (!item.classList.contains('animate')) {
                        // A√±adir un peque√±o delay escalonado para mejor efecto visual
                        setTimeout(() => {
                            item.classList.add('animate');
                            if (timelineDots[index]) {
                                timelineDots[index].classList.add('animate');
                            }
                        }, index * 100);
                    }
                } else if (progress < itemActivationPoint * 0.3) {
                    // Solo remover la animaci√≥n si el scroll retrocede significativamente
                    item.classList.remove('animate');
                    if (timelineDots[index]) {
                        timelineDots[index].classList.remove('animate');
                    }
                }
            });
        }
        
        // Optimizar los event listeners con throttle para mejor rendimiento
        let isScrolling = false;
        function throttledAnimateTimeline() {
            if (!isScrolling) {
                requestAnimationFrame(() => {
                    animateTimeline();
                    isScrolling = false;
                });
                isScrolling = true;
            }
        }
        
        // Ejecutar animaci√≥n en scroll con throttling
        window.addEventListener('scroll', throttledAnimateTimeline);
        window.addEventListener('resize', animateTimeline);
        
        // Ejecutar una vez al cargar - MEJORADO
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar animaci√≥n del timeline con m√∫ltiples checkpoints
            setTimeout(animateTimeline, 100);
            setTimeout(animateTimeline, 300);
            setTimeout(animateTimeline, 500);
            
            // Tambi√©n ejecutar despu√©s de que las im√°genes se carguen
            window.addEventListener('load', () => {
                setTimeout(animateTimeline, 100);
            });
        });
    </script>
</body>
</html>